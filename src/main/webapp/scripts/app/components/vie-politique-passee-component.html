<div class="box box-default box-solid collapsed-box">
    <div class="box-header with-border">
        <h3 class="box-title">Vie politique passée dans cette mandature</h3>

        <div class="box-tools pull-right">
            <button
                type="button"
                class="btn btn-box-tool"
                data-widget="collapse"
            >
                <i class="fa fa-plus"></i>
            </button>
        </div>
    </div>
    <div class="box-body" style="display: none">
        <h2>Mandats</h2>
        <div ng-repeat="m in dto.elu.mandats" ng-if="m.dateDemission != null">
            <div class="action-bloc info-bloc">
                <div class="edition-buttons-bloc" has-authority="ROLE_ADMIN">
                    <edit-button
                        ui-sref="elu.detail.editMandat({mandatId: m.id})"
                    ></edit-button>
                    <delete-button
                        ui-sref="elu.detail.supprimerMandat({mandatId: m.id})"
                    ></delete-button>
                </div>
                <div>
                    <span class="lg">Élu depuis le </span>{{m.dateDebut |
                    date:'mediumDate'}}
                </div>
                <div ng-if="m.dateDemission || m.motifDemission">
                    <span class="lg">Démission depuis le</span>
                    {{m.dateDemission | date:'mediumDate'}}
                    <span class="lg">au motif suivant : </span>
                    {{m.motifDemission}}
                </div>
                <div>
                    <span class="lg">Département : </span>
                    {{m.departement}} ({{m.codeDepartement}})
                </div>
                <div>
                    <span class="lg">Liste candidats : </span>
                    {{m.listeElectorale.nom}} ({{m.listeElectorale.nomCourt}})
                </div>
            </div>
        </div>
        <h2>Groupes politiques</h2>
        <div
            class="unit-bloc"
            ng-repeat="a in dto.elu.appartenancesGroupePolitique"
            ng-if="a.dateFin != null"
        >
            {{dto.groupesPolitiques[a.groupePolitique.id].nom}}
            <span class="grey"
                >({{dto.groupesPolitiques[a.groupePolitique.id].nomCourt}})</span
            >
            <br />
            <div class="lg">
                <span class="grey">Du</span> {{a.dateDebut | date:'mediumDate'}}
                <span class="grey">au</span> {{a.dateFin |
                date:'mediumDate'}}<span class="grey">, motif de fin : </span>
                {{a.motifFin}}
            </div>
        </div>
        <div
            class="unit-bloc"
            ng-repeat="f in dto.elu.fonctionsGroupePolitique"
            ng-if="f.dateFin != null"
        >
            <span class="grey">Fonction : </span> {{f.fonction}}
            <span class="grey">dans le groupe</span>
            {{dto.groupesPolitiques[f.groupePolitique.id].nomCourt}}
            <span class="lg"
                ><span class="grey">Du</span> {{f.dateDebut |
                date:'mediumDate'}} <span class="grey">au</span> {{f.dateFin |
                date:'mediumDate'}}<span class="grey">, motif de fin : </span>
                {{f.motifFin}}</span
            >
        </div>
        <h2>Commission permanente</h2>
        <div
            ng-repeat="a in dto.elu.appartenancesCommissionPermanente"
            ng-if="a.dateFin != null"
        >
            <div class="unit-bloc">
                <span class="grey">Membre de la commission du</span>
                {{a.dateDebut | date:'mediumDate'}}
                <span class="grey">au</span> {{a.dateFin |
                date:'mediumDate'}}<span class="grey">, motif de fin : </span>
                {{a.motifFin}}
            </div>
        </div>
        <div
            ng-repeat="f in dto.elu.fonctionsCommissionPermanente"
            ng-if="f.dateFin != null"
        >
            <div class="unit-bloc">
                <span class="grey">Fonction : </span> {{f.fonction}}
                <span class="grey">du</span> {{f.dateDebut | date:'mediumDate'}}
                <span class="grey">au</span> {{f.dateFin |
                date:'mediumDate'}}<span class="grey">, motif de fin : </span>
                {{f.motifFin}}
            </div>
        </div>
        <div
            ng-repeat="f in dto.elu.fonctionsExecutives"
            ng-if="f.dateFin != null"
        >
            <div class="unit-bloc">
                <span class="grey">Fonction exécutive : </span> {{f.fonction}}
                <span class="grey">du</span> {{f.dateDebut | date:'mediumDate'}}
                <span class="grey">au</span> {{f.dateFin |
                date:'mediumDate'}}<span class="grey">, motif de fin : </span>
                {{f.motifFin}}
            </div>
        </div>
        <h2>Commissions thématiques</h2>
        <div
            class="unit-bloc"
            ng-repeat="a in dto.elu.appartenancesCommissionsThematiques"
            ng-if="a.dateFin != null"
        >
            {{dto.commissionsThematiques[a.commissionThematique.id].nom}}
            <div class="lg">
                <span class="grey">Du</span> {{a.dateDebut | date:'mediumDate'}}
                <span class="grey">au</span> {{a.dateFin |
                date:'mediumDate'}}<span class="grey">, motif de fin : </span>
                {{a.motifFin}}
            </div>
        </div>
        <div
            class="unit-bloc action-bloc"
            ng-repeat="f in dto.elu.fonctionsCommissionsThematiques"
            ng-if="f.dateFin != null"
        >
            <span class="grey">Fonction : </span> {{f.fonction}}<span
                class="grey"
                >,
            </span>
            {{dto.commissionsThematiques[f.commissionThematique.id].nom}}
            <div class="lg">
                <span class="grey">Du</span> {{f.dateDebut | date:'mediumDate'}}
                <span class="grey">au</span> {{f.dateFin |
                date:'mediumDate'}}<span class="grey">, motif de fin : </span>
                {{f.motifFin}}
            </div>
        </div>
        <!--        <h2>Organismes</h2>-->
        <!--        <div class="unit-bloc"-->
        <!--             ng-repeat="a in dto.elu.appartenancesOrganismes"-->
        <!--             ng-if="a.dateFin != null">-->
        <!--            {{a.organisme}}-->
        <!--            <br/>-->
        <!--            <span class="lg"><span class="grey">Statut : </span> {{a.statut}}</span>-->
        <!--            <span ng-if="a.codeRNE">-->
        <!--                (<span class="lg"><span class="grey">Code RNE : </span> {{a.codeRNE}}</span>)-->
        <!--            </span>-->
        <!--            <br/>-->
        <!--            <span class="lg">-->
        <!--                <span class="grey">Du</span> {{a.dateDebut | date:'mediumDate'}}-->
        <!--                <span class="grey">au</span> {{a.dateFin | date:'mediumDate'}}<span class="grey">, motif de fin : </span>-->
        <!--                {{a.motifFin}}-->
        <!--            </span>-->
        <!--            <br/>-->
        <!--            <span class="lg">-->
        <!--                <span class="grey">Nomination le</span> {{a.dateNomination}}-->
        <!--            </span>-->
        <!--        </div>-->
        <h2>Autres mandats</h2>
        <div
            class="unit-bloc"
            ng-repeat="a in dto.elu.autreMandats"
            ng-if="a.dateFin != null"
        >
            {{a.collectiviteOuOrganisme}}
            <br />
            <span class="lg"
                ><span class="grey">Fonction : </span> {{a.fonction}}</span
            >
            <div class="lg">
                <span class="grey">Du</span> {{a.dateDebut | date:'mediumDate'}}
                <span class="grey">au</span> {{a.dateFin |
                date:'mediumDate'}}<span class="grey">, motif de fin : </span>
                {{a.motifFin}}
            </div>
        </div>
    </div>
</div>
